!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports={GAME_WIDTH:800,GAME_HEIGHT:600,DOM_PARENT:"main",TILE_WIDTH:70,TILE_HEIGHT:70,GRAVITY:20,MOVEMENT_VEL:210,JUMP_VEL:500,CLOUD_MOVE_OFFSET:1e3,CLOUD_MOVE_TIME:3e4,MAX_PARTICLES:250,PARTICLE_X_OFFSET:45,PARTICLE_Y_OFFSET:10,ELEM_GRAVITY:3,ITEM_FADE_TIME:1e3,ITEM_ACQUIRE_OFFSET:25,ITEM_DROP_VEL:-100,BLOCK_FADE_TIME:1e3,PLAYER_BOUND_WIDTH:30,PLAYER_BOUND_HEIGHT:75,PLAYER_BOUND_H_OFFSET:10,FLOATING_TILES:[2,14,26,41,44,46,53,56,58,65,68,70,71,75,77,80,82,87,99,111,117,119,126,145],UPWARD_SLOPE_TILES:[29,32,34,42,63,105],DOWNWARD_SLOPE_TILES:[5,8,10,30,39,95],BACKGROUND_TILES:[1,6,13,18,19,21,25,31,33,37,40,45,52,57,64,69,76,81,149],GOAL_TILE:57}},{}],2:[function(a,b){var c=function(){var a=Array.prototype.slice.call(arguments);return a.unshift({}),Phaser.Utils.extend.apply(null,a)},d=function(a,b){a.powergem=b,a.element=b.element,a.hasElement=!0},e=function(a){a.powergem=null,a.hasElement=!1,a.elementWasDropped=!0},f=function(a){return!a.element},g=function(a,b){return a.group.element===b.element},h={style:{font:'18px "minecraftiaregular"',fill:"slategray",align:"center"}},i={air:{element:"air",frameName:"air.png",num:200,gravity:.1,lifespan:1e3,particleScale:{min:1.5,max:2},angularVel:{min:-20,max:20},speedX:{min:100,max:200},speedY:{min:-125,max:125}},water:{element:"water",frameName:"water.png",num:200,gravity:6,lifespan:1500,particleScale:{min:.5,max:1.3},angularVel:{min:-20,max:20},speedX:{min:100,max:250},speedY:{min:-150,max:150}},earth:{element:"earth",frameName:"earth.png",num:200,gravity:2,lifespan:2300,particleScale:{min:1.2,max:1.5},angularVel:{min:-50,max:50},speedX:{min:100,max:300},speedY:{min:-100,max:100}},fire:{element:"fire",frameName:"fire.png",num:200,gravity:-5,lifespan:1e3,particleScale:{min:1,max:1.5},angularVel:{min:800,max:1200},speedX:{min:100,max:200},speedY:{min:-100,max:100}}},j={air:{elemType:"powergem",props:{element:"air",acquire:d,drop:e,checkAcquirable:f},frameName:"gemYellow.png",body:{x:20,y:20,width:30,height:30}},water:{elemType:"powergem",props:{element:"water",acquire:d,drop:e,checkAcquirable:f},frameName:"gemBlue.png",body:{x:20,y:20,width:30,height:30}},earth:{elemType:"powergem",props:{element:"earth",acquire:d,drop:e,checkAcquirable:f},frameName:"gemGreen.png",body:{x:20,y:20,width:30,height:30}},fire:{elemType:"powergem",props:{element:"fire",acquire:d,drop:e,checkAcquirable:f},frameName:"gemRed.png",body:{x:20,y:20,width:30,height:30}}},k={goalStar:{frameName:"star.png",noGravity:!0,tween:[{x:0,y:-10,duration:800,easing:Phaser.Easing.Quadratic.InOut},{x:0,y:10,duration:800,easing:Phaser.Easing.Quadratic.InOut}],tweenLoop:!0}},l={air:{elemType:"powerblock",props:{element:"air",checkCollideParticle:g},frameId:54,body:{x:0,y:0,width:70,height:70}},water:{elemType:"powerblock",props:{element:"water",checkCollideParticle:g},frameId:90,body:{x:0,y:0,width:70,height:70}},earth:{elemType:"powerblock",props:{element:"earth",checkCollideParticle:g},frameId:97,body:{x:0,y:0,width:70,height:70}},fire:{elemType:"powerblock",props:{element:"fire",checkCollideParticle:g},frameId:66,body:{x:0,y:0,width:70,height:70}}};b.exports={levels:{level1:{nextState:"level2",width:2100,height:840,background:"#d0f4f7",clouds:15,player:{x:150,y:580},goal:{x:1961,y:490},text:[c(h,{x:350,y:350,msg:"Hi! :D\nUse the arrow keys to move and jump about.\nTry to make it to the level exit!"}),c(h,{x:1e3,y:725,msg:'Grab a powergem with the "Z" key.\nThen use the spacebar to unleash your element!'}),c(h,{x:1600,y:275,msg:"Use your power to remove obstacles.\nEach obstacle type matches one of your elements."})],items:[c(j.water,{x:1085,y:580})],backgroundItems:[c(k.goalStar,{x:1961,y:380})],blocks:[c(l.water,{x:1715,y:450}),c(l.water,{x:1715,y:350}),c(l.water,{x:1715,y:250})],elements:[i.water]},level2:{width:2100,height:1050,background:"#d0f4f7",clouds:15,player:{x:150,y:780},goal:{x:1960,y:500},text:[c(h,{x:250,y:650,msg:"Keep going!"}),c(h,{x:1e3,y:300,msg:"There are 4 types\nof powergems, but you\ncan only carry one at a time!"}),c(h,{x:375,y:240,msg:'Use the "X" key to drop\nyour current powergem.\nThen, you can pick up a new one!'}),c(h,{x:1800,y:550,msg:"From here on out,\nyou're on your own. :)"})],items:[c(j.water,{x:485,y:920}),c(j.earth,{x:450,y:300})],backgroundItems:[c(k.goalStar,{x:1960,y:590})],blocks:[c(l.water,{x:815,y:850}),c(l.water,{x:815,y:750}),c(l.water,{x:815,y:650}),c(l.earth,{x:1415,y:650}),c(l.earth,{x:1415,y:550}),c(l.earth,{x:1415,y:450}),c(l.water,{x:600,y:300}),c(l.water,{x:600,y:200}),c(l.water,{x:600,y:100})],elements:[i.water,i.earth]}}}},{}],3:[function(a,b){function c(a,b){return function(c,d,e,f,g){if(this._mapData=d.getTiles(c.body.x,c.body.y,c.body.width,c.body.height,!0),0!==this._mapData.length)for(var h=0;h<this._mapData.length;h++){var i=this._mapData[h],j=0;a.indexOf(i.tile.index)>=0&&c.body.right<i.right?j=Math.max(0,i.right-c.body.right):b.indexOf(i.tile.index)>=0&&c.body.x>i.x&&(j=Math.max(0,c.body.x-i.x));var k=0===j||c.body.bottom>i.y+j;k&&this.separateTile(c.body,this._mapData[h])&&(f?f.call(g,c,this._mapData[h])&&(this._total++,e&&e.call(g,c,this._mapData[h])):(this._total++,e&&e.call(g,c,this._mapData[h])),j>0&&(c.body.y+=j,c.body.updateHulls()))}}}b.exports.createSlopedTilemapCollider=c},{}],4:[function(a){function b(){O.physics.collideSpriteVsTilemapLayer=L.createSlopedTilemapCollider(M.UPWARD_SLOPE_TILES,M.DOWNWARD_SLOPE_TILES),O.input.maxPointers=1,P.boot=function(){},P.boot.prototype={preload:function(){O.load.image("preloadbar","assets/images/preloadbar.png")},create:function(){O.state.start("preloader")}},O.state.add("boot",P.boot,!1),P.preloader=function(){},P.preloader.prototype={preload:function(){q=O.add.sprite(0,0,"preloadbar"),q.x=(M.GAME_WIDTH-q.width)/2,q.y=M.GAME_HEIGHT/2-q.height/2,O.load.setPreloadSprite(q),c()},create:function(){q.crop.width=q.width;var a=O.add.tween(q).to({alpha:0},800,Phaser.Easing.Linear.None,!0);a.onComplete.add(function(){O.state.start("mainmenu")})}},O.state.add("preloader",P.preloader,!1),P.mainmenu=function(){},P.mainmenu.prototype={create:function(){E=O.add.audio("theme"),E.play("",0,.3,!0),s=O.add.sprite(0,0,"menubackground"),s.alpha=0,t=O.add.text(O.world.centerX,O.world.centerY-150,"ELEMENTAL ONE",{font:'45px "minecraftiaregular"',fill:"slategray",align:"center"}),t.anchor.setTo(.5,.5);var a=O.add.text(O.world.centerX,O.world.centerY+200,"press enter",{font:'25px "minecraftiaregular"',fill:"black",align:"center"});a.anchor.setTo(.5,.5),O.add.tween(a).to({alpha:0},500,Phaser.Easing.Linear.None,!0,0,1/0,!0),O.add.tween(s).to({alpha:1},2e3,Phaser.Easing.Quadratic.Out,!0);var b=O.input.keyboard.addKey(Phaser.Keyboard.ENTER);b.onDown.addOnce(function(){O.add.tween(t).to({alpha:0},2e3,Phaser.Easing.Linear.None,!0);var a=O.add.tween(s).to({alpha:0},2e3,Phaser.Easing.Linear.None,!0);a.onComplete.add(function(){O.state.start("level1")})})}},O.state.add("mainmenu",P.mainmenu,!1),P.Levels={},Object.keys(N.levels).forEach(function(a){P.Levels[a]=function(){},P.Levels[a].prototype={create:function(){O.level=a,O.nextState=N.levels[a].nextState,d()},update:o,render:p},O.state.add(a,P.Levels[a],!1)}),O.state.start("boot")}function c(){r||(O.load.image("menubackground","assets/images/menubackground.png"),O.load.tilemap("level1","assets/tilemaps/level1.json",null,Phaser.Tilemap.TILED_JSON),O.load.tilemap("level2","assets/tilemaps/level2.json",null,Phaser.Tilemap.TILED_JSON),O.load.tileset("tiles","assets/tilesets/tiles_spritesheet.png",M.TILE_WIDTH,M.TILE_HEIGHT),O.load.atlas("p1","assets/sprites/p1_spritesheet.png","assets/sprites/p1_spritesheet.json"),O.load.atlasXML("items","assets/sprites/items_spritesheet.png","assets/sprites/items_spritesheet.xml"),O.load.spritesheet("blocks","assets/tilesets/tiles_spritesheet.png",M.TILE_WIDTH,M.TILE_HEIGHT),O.load.atlasXML("particles","assets/sprites/particles.png","assets/sprites/particles.xml"),O.load.audio("theme",["assets/sounds/happy.mp3","assets/sounds/happy.ogg"],!0),O.load.audio("jumpsound","assets/sounds/jump.wav",!0),O.load.audio("pickupsound","assets/sounds/pickup.wav",!0),O.load.audio("airsound","assets/sounds/air.wav",!0),O.load.audio("watersound","assets/sounds/water.wav",!0),O.load.audio("earthsound","assets/sounds/earth.wav",!0),O.load.audio("firesound","assets/sounds/fire.wav",!0),r=!0)}function d(){O.stage.backgroundColor=N.levels[O.level].background,e(),u=O.add.tilemap(O.level),v=O.add.tileset("tiles"),v.setCollisionRange(0,v.total-1,!0,!0,!0,!0),v.tiles.forEach(function(a){a.enableMaxOverlapCheck=!0}),M.FLOATING_TILES.forEach(function(a){var b=v.getTile(a);b.setCollision(!1,!1,!0,!1)}),M.UPWARD_SLOPE_TILES.forEach(function(a){var b=v.getTile(a);b.setCollision(!1,!1,!0,!1),b.enableMaxOverlapCheck=!1}),M.DOWNWARD_SLOPE_TILES.forEach(function(a){var b=v.getTile(a);b.setCollision(!1,!1,!0,!1),b.enableMaxOverlapCheck=!1}),M.BACKGROUND_TILES.forEach(function(a){v.setCollision(a,!1,!1,!1,!1)}),f(),x=O.add.tilemapLayer(0,0,M.GAME_WIDTH,M.GAME_HEIGHT,v,u,0),w=O.add.tilemapLayer(0,0,M.GAME_WIDTH,M.GAME_HEIGHT,v,u,1),w.resizeWorld(),g(),h(),i(),n(),m(),j(),l(),O.camera.follow(y,Phaser.Camera.FOLLOW_PLATFORMER),G=O.input.keyboard.createCursorKeys(),H=O.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),I=O.input.keyboard.addKey(Phaser.Keyboard.Z),J=O.input.keyboard.addKey(Phaser.Keyboard.X)}function e(){F||(["jumpsound","pickupsound"].forEach(function(a){Q[a]=O.add.audio(a)}),["airsound","watersound","earthsound","firesound"].forEach(function(a){Q[a]=O.add.audio(a,1,!0)}),F=!0)}function f(){N.levels[O.level].clouds&&(A=O.add.group(),K.range(10).forEach(function(){var a=M.CLOUD_MOVE_OFFSET*O.rnd.realInRange(.8,1.2),b=A.create(O.rnd.integerInRange(0,N.levels[O.level].width),O.rnd.integerInRange(0,N.levels[O.level].height),"items");b.animations.add("cloud",[O.rnd.pick(["cloud1.png","cloud2.png","cloud3.png"])],1,!1,!1),b.animations.play("cloud"),O.add.tween(b).to({x:b.x-a},M.CLOUD_MOVE_TIME,Phaser.Easing.Linear.None).to({x:b.x-a-100},3e3,Phaser.Easing.Quadratic.Out).to({x:b.x-a},3e3,Phaser.Easing.Quadratic.In).to({x:b.x+a},M.CLOUD_MOVE_TIME,Phaser.Easing.Linear.None).to({x:b.x+a+100},3e3,Phaser.Easing.Quadratic.Out).to({x:b.x+a},3e3,Phaser.Easing.Quadratic.In).loop().start()}))}function g(){D=O.add.group(),k(N.levels[O.level].blocks,D,"blocks")}function h(){C=O.add.group(),k(N.levels[O.level].backgroundItems,C,"items")}function i(){N.levels[O.level].text&&N.levels[O.level].text.forEach(function(a){var b=O.add.text(a.x,a.y,a.msg,a.style);b.anchor.setTo(.5,.5)})}function j(){B=O.add.group(),k(N.levels[O.level].items,B,"items")}function k(a,b,c){var d=function(a){var d=b.create(a.x,a.y,c,a.frameName||a.frameId);if(d.elemType=a.elemType,d.body.allowGravity=!a.noGravity,d.body.gravity.y=M.ELEM_GRAVITY,d.body.collideWorldBounds=!0,a.body&&(d.body.setSize(a.body.width||d.body.sourceWidth,a.body.height||d.body.sourceHeight,a.body.x||d.body.offset.x,a.body.y||d.body.offset.y),d.body.immovable=a.body.immovable||d.body.immovable,d.body.gravity.y=a.body.gravity||M.ELEM_GRAVITY),a.props)for(var e in a.props)a.props.hasOwnProperty(e)&&(d[e]=a.props[e]);if(a.tween){var f=O.add.tween(d);a.tween.forEach(function(a){f=f.to({x:d.x+a.x,y:d.y+a.y},a.duration,a.easing)}),a.tweenLoop&&f.loop(),f.start()}};a.forEach(d)}function l(){N.levels[O.level].elements.forEach(function(a){var b=O.add.emitter(0,0,M.MAX_PARTICLES);b.element=a.element,b.makeParticles("particles",[a.frameName],a.num,!0,!0),b.gravity=a.gravity||b.gravity,b.lifespan=a.lifespan||b.lifespan,a.particleScale&&(b.minParticleScale=a.particleScale.min,b.maxParticleScale=a.particleScale.max),a.angularVel&&b.setRotation(a.angularVel.min,a.angularVel.max),a.speedX&&b.setXSpeed(a.speedX.min,a.speedX.max),a.speedY&&b.setYSpeed(a.speedY.min,a.speedY.max),b.forEach(function(a){a.kill()}),R[a.element]=b})}function m(){y=O.add.sprite(N.levels[O.level].player.x,N.levels[O.level].player.y,"p1"),y.body.collideWorldBounds=!0,y.body.blockable=!0,y.body.gravity.y=M.GRAVITY,y.body.setSize(M.PLAYER_BOUND_WIDTH,M.PLAYER_BOUND_HEIGHT,0,M.PLAYER_BOUND_H_OFFSET),y.anchor.setTo(.5,.5),y.animations.add("stand",["p1_stand"],1,!1,!1),y.animations.add("use",["p1_use"],1,!1,!1),y.animations.add("duck",["p1_duck"],1,!1,!1),y.animations.add("hurt",["p1_hurt"],1,!1,!1),y.animations.add("jump",["p1_jump"],1,!1,!1),y.animations.add("front",["p1_front"],1,!1,!1),y.animations.add("walk",Phaser.Animation.generateFrameNames("p1_walk",1,11,"",2),15,!0,!1),y.animations.play("stand")}function n(){N.levels[O.level].goal&&(z=O.add.sprite(N.levels[O.level].goal.x,N.levels[O.level].goal.y,"blocks",M.GOAL_TILE),z.alpha=0)}function o(){var a=R[y.element]||null;O.physics.overlap(y,z,function(){O.state.start(O.nextState)}),O.physics.collide(y,w),O.physics.collide(y,D),O.physics.collide(B,w),O.physics.collide(D,w),O.physics.collide(D,D),a&&(O.physics.collide(a,w),O.physics.overlap(a,D,function(a,b){b.collideParticle&&b.collideParticle(a,b),b.isDisappearing=!0,b.lifespan=M.ITEM_FADE_TIME},function(a,b){return b.isDisappearing?!1:b.checkCollideParticle?b.checkCollideParticle(a,b):!1}),a.forEachAlive(function(b){b.alpha=b.lifespan/a.lifespan}),y.elementWasDropped&&0===a.countLiving()&&(y.element=null,y.elementWasDropped=!1)),y.body.touching.down?(y.body.velocity.x=0,y.airborne!==!1&&(y.animations.play("stand"),y.facing="idle",y.airborne=!1)):y.airborne=!0,G.left.isDown?(y.body.velocity.x=-M.MOVEMENT_VEL,"left"!==y.facing&&(y.airborne||y.animations.play("walk"),y.facing="left",y.flipped=!0)):G.right.isDown?(y.body.velocity.x=M.MOVEMENT_VEL,"right"!==y.facing&&(y.airborne||y.animations.play("walk"),y.facing="right",y.flipped=!1)):G.down.isDown?(y.body.velocity.x=0,"down"!==y.facing&&(y.airborne||y.animations.play("duck"),y.facing="down")):y.airborne||"idle"!==y.facing&&(y.animations.play("stand"),y.facing="idle"),G.up.isDown&&y.body.touching.down&&(y.body.velocity.y=-M.JUMP_VEL,y.animations.play("jump"),y.airborne=!0,Q.jumpsound.play("",0,.3)),I.isDown&&O.physics.overlap(y,B,function(a,b){a.currentItem=b,b.acquire&&b.acquire(a,b),b.isBeingAcquired=!0,b.lifespan=M.ITEM_FADE_TIME,Q.pickupsound.play("",.6)},function(a,b){return b.isBeingAcquired?!1:b.checkAcquirable?b.checkAcquirable(a,b):!1}),J.isDown&&y.currentItem&&y.currentItem.lifespan<=0&&(y.currentItem.revive(),y.currentItem.isBeingAcquired=!1,y.currentItem.alpha=1,y.currentItem.body.x=y.body.x,y.currentItem.body.y=y.body.y+M.ITEM_ACQUIRE_OFFSET,y.currentItem.body.velocity.setTo(0,M.ITEM_DROP_VEL),y.currentItem.drop&&y.currentItem.drop(y,y.currentItem),y.currentItem=null),B.forEachAlive(function(a){if(a.isBeingAcquired){var b=(M.ITEM_FADE_TIME-a.lifespan)/M.ITEM_FADE_TIME;a.alpha=-1*b*b+1,O.physics.moveToXY(a,y.body.x,y.body.y+M.ITEM_ACQUIRE_OFFSET,null,a.lifespan)}}),D.forEachAlive(function(a){a.isDisappearing&&(a.alpha=a.lifespan/M.BLOCK_FADE_TIME)}),a&&(y.hasElement&&H.isDown&&"idle"===y.facing&&!y.airborne?(y.isFiring||(y.animations.play("use"),y.flipped?(a.emitX=y.x-M.PARTICLE_X_OFFSET,a.emitY=y.y+M.PARTICLE_Y_OFFSET,a.flipped=!0):(a.emitX=y.x+M.PARTICLE_X_OFFSET,a.emitY=y.y+M.PARTICLE_Y_OFFSET,a.flipped=!1)),y.isFiring=!0,Q[y.element+"sound"].isPlaying||Q[y.element+"sound"].play(),a.emitParticle()):(y.isFiring&&"idle"===y.facing&&!y.airborne&&y.animations.play("stand"),y.isFiring=!1,y.element&&Q[y.element+"sound"].isPlaying&&Q[y.element+"sound"].stop())),y.scale.x=y.flipped?-1:1}function p(){}var q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=(a("./overrides"),a("./utils")),L=a("./extensions"),M=a("./config"),N=a("./data"),O=new Phaser.Game(M.GAME_WIDTH,M.GAME_HEIGHT,Phaser.CANVAS,M.DOM_PARENT),P={},Q={},R={};window.onload=b},{"./config":1,"./data":2,"./extensions":3,"./overrides":5,"./utils":6}],5:[function(){"undefined"!=typeof Phaser&&(Phaser.Physics.Arcade.prototype.separateTileX=function(a,b,c){return a.immovable||0===a.deltaX()||Phaser.Rectangle.intersects(a.hullX,b)===!1?!1:(this._overlap=0,this._maxOverlap=a.deltaAbsX()+this.OVERLAP_BIAS,a.deltaX()<0?(this._overlap=b.right-a.hullX.x,b.tile.enableMaxOverlapCheck&&this._overlap>this._maxOverlap||a.allowCollision.left===!1||b.tile.collideRight===!1?this._overlap=0:a.touching.left=!0):(this._overlap=a.hullX.right-b.x,b.tile.enableMaxOverlapCheck&&this._overlap>this._maxOverlap||a.allowCollision.right===!1||b.tile.collideLeft===!1?this._overlap=0:a.touching.right=!0),0!==this._overlap?(c&&(a.x=a.deltaX()<0?a.x+this._overlap:a.x-this._overlap,a.velocity.x=0===a.bounce.x?0:-a.velocity.x*a.bounce.x,a.updateHulls()),!0):!1)},Phaser.Physics.Arcade.prototype.separateTileY=function(a,b,c){return a.immovable||0===a.deltaY()||Phaser.Rectangle.intersects(a.hullY,b)===!1?!1:(this._overlap=0,this._maxOverlap=a.deltaAbsY()+this.OVERLAP_BIAS,a.deltaY()<0?(this._overlap=b.bottom-a.hullY.y,b.tile.enableMaxOverlapCheck&&this._overlap>this._maxOverlap||a.allowCollision.up===!1||b.tile.collideDown===!1?this._overlap=0:a.touching.up=!0):(this._overlap=a.hullY.bottom-b.y,b.tile.enableMaxOverlapCheck&&this._overlap>this._maxOverlap||a.allowCollision.down===!1||b.tile.collideUp===!1?this._overlap=0:a.touching.down=!0),0!==this._overlap?(c&&(a.y=a.deltaY()<0?a.y+this._overlap:a.y-this._overlap,a.velocity.y=0===a.bounce.y?0:-a.velocity.y*a.bounce.y,a.updateHulls()),!0):!1)},Phaser.Physics.Arcade.prototype.moveToXY=function(a,b,c,d,e){return"undefined"==typeof d&&(d=60),"undefined"==typeof e&&(e=0),this._angle=Math.atan2(c-a.body.y,b-a.body.x),e>0&&(d=this.distanceToXY(a,b,c)/(e/1e3)),a.body.velocity.x=Math.cos(this._angle)*d,a.body.velocity.y=Math.sin(this._angle)*d,this._angle},Phaser.Physics.Arcade.prototype.distanceToXY=function(a,b,c){return this._dx=a.body.x-b,this._dy=a.body.y-c,Math.sqrt(this._dx*this._dx+this._dy*this._dy)},Phaser.Physics.Arcade.prototype.angleToXY=function(a,b,c){return this._dx=b-a.body.x,this._dy=c-a.body.y,Math.atan2(this._dy,this._dx)},Phaser.Particles.Arcade.Emitter.prototype.emitParticle=function(){var a=this.getFirstExists(!1);if(null!=a){if(this.width>1||this.height>1?a.reset(this.game.rnd.integerInRange(this.left,this.right),this.game.rnd.integerInRange(this.top,this.bottom)):a.reset(this.emitX,this.emitY),a.lifespan=this.lifespan,a.body.bounce.setTo(this.bounce.x,this.bounce.y),a.body.velocity.x=this.minParticleSpeed.x!=this.maxParticleSpeed.x?this.game.rnd.integerInRange(this.minParticleSpeed.x,this.maxParticleSpeed.x):this.minParticleSpeed.x,a.body.velocity.y=this.minParticleSpeed.y!=this.maxParticleSpeed.y?this.game.rnd.integerInRange(this.minParticleSpeed.y,this.maxParticleSpeed.y):this.minParticleSpeed.y,a.body.gravity.y=this.gravity,a.body.angularVelocity=this.minRotation!=this.maxRotation?this.game.rnd.integerInRange(this.minRotation,this.maxRotation):this.minRotation,1!==this.minParticleScale||1!==this.maxParticleScale){var b=this.game.rnd.realInRange(this.minParticleScale,this.maxParticleScale);a.scale.setTo(b,b)}this.flipped&&(a.body.velocity.x*=-1,a.body.angularVelocity*=-1,a.scale.x*=-1),a.body.drag.x=this.particleDrag.x,a.body.drag.y=this.particleDrag.y,a.body.angularDrag=this.angularDrag}},Phaser.Physics.Arcade.prototype.separateX=function(a,b){return a.immovable&&b.immovable?!1:(this._overlap=0,Phaser.Rectangle.intersects(a,b)&&(this._maxOverlap=a.deltaAbsX()+b.deltaAbsX()+this.OVERLAP_BIAS,0===a.deltaX()&&0===b.deltaX()?(a.embedded=!0,b.embedded=!0):a.deltaX()>b.deltaX()?(this._overlap=a.x+a.width-b.x,this._overlap>this._maxOverlap||a.allowCollision.right===!1||b.allowCollision.left===!1?this._overlap=0:(a.touching.right=!0,b.touching.left=!0)):a.deltaX()<b.deltaX()&&(this._overlap=a.x-b.width-b.x,-this._overlap>this._maxOverlap||a.allowCollision.left===!1||b.allowCollision.right===!1?this._overlap=0:(a.touching.left=!0,b.touching.right=!0)),0!==this._overlap)?(a.overlapX=this._overlap,b.overlapX=this._overlap,a.customSeparateX||b.customSeparateX?!0:(this._velocity1=a.velocity.x,this._velocity2=b.velocity.x,a.immovable||b.immovable?a.immovable?b.immovable||(b.x+=this._overlap,b.velocity.x=this._velocity1-this._velocity2*b.bounce.x):(a.x=a.x-this._overlap,a.velocity.x=this._velocity2-this._velocity1*a.bounce.x):a.blockable||b.blockable?a.blockable?(a.x=a.x-this._overlap,a.velocity.x=this._velocity2-this._velocity1*a.bounce.x):b.blockable&&(b.x+=this._overlap,b.velocity.x=this._velocity1-this._velocity2*b.bounce.x):(this._overlap*=.5,a.x=a.x-this._overlap,b.x+=this._overlap,this._newVelocity1=Math.sqrt(this._velocity2*this._velocity2*b.mass/a.mass)*(this._velocity2>0?1:-1),this._newVelocity2=Math.sqrt(this._velocity1*this._velocity1*a.mass/b.mass)*(this._velocity1>0?1:-1),this._average=.5*(this._newVelocity1+this._newVelocity2),this._newVelocity1-=this._average,this._newVelocity2-=this._average,a.velocity.x=this._average+this._newVelocity1*a.bounce.x,b.velocity.x=this._average+this._newVelocity2*b.bounce.x),a.updateHulls(),b.updateHulls(),!0)):!1)},Phaser.Physics.Arcade.prototype.separateY=function(a,b){return a.immovable&&b.immovable?!1:(this._overlap=0,Phaser.Rectangle.intersects(a,b)&&(this._maxOverlap=a.deltaAbsY()+b.deltaAbsY()+this.OVERLAP_BIAS,0===a.deltaY()&&0===b.deltaY()?(a.embedded=!0,b.embedded=!0):a.deltaY()>b.deltaY()?(this._overlap=a.y+a.height-b.y,this._overlap>this._maxOverlap||a.allowCollision.down===!1||b.allowCollision.up===!1?this._overlap=0:(a.touching.down=!0,b.touching.up=!0)):a.deltaY()<b.deltaY()&&(this._overlap=a.y-b.height-b.y,-this._overlap>this._maxOverlap||a.allowCollision.up===!1||b.allowCollision.down===!1?this._overlap=0:(a.touching.up=!0,b.touching.down=!0)),0!==this._overlap)?(a.overlapY=this._overlap,b.overlapY=this._overlap,a.customSeparateY||b.customSeparateY?!0:(this._velocity1=a.velocity.y,this._velocity2=b.velocity.y,a.immovable||b.immovable?a.immovable?b.immovable||(b.y+=this._overlap,b.velocity.y=this._velocity1-this._velocity2*b.bounce.y,a.sprite.active&&a.moves&&a.deltaY()<b.deltaY()&&(b.x+=a.x-a.lastX)):(a.y=a.y-this._overlap,a.velocity.y=this._velocity2-this._velocity1*a.bounce.y,b.active&&b.moves&&a.deltaY()>b.deltaY()&&(a.x+=b.x-b.lastX)):a.blockable||b.blockable?a.blockable?(a.y=a.y-this._overlap,a.velocity.y=this._velocity2-this._velocity1*a.bounce.y,b.active&&b.moves&&a.deltaY()>b.deltaY()&&(a.x+=b.x-b.lastX)):b.blockable&&(b.y+=this._overlap,b.velocity.y=this._velocity1-this._velocity2*b.bounce.y,a.sprite.active&&a.moves&&a.deltaY()<b.deltaY()&&(b.x+=a.x-a.lastX)):(this._overlap*=.5,a.y=a.y-this._overlap,b.y+=this._overlap,this._newVelocity1=Math.sqrt(this._velocity2*this._velocity2*b.mass/a.mass)*(this._velocity2>0?1:-1),this._newVelocity2=Math.sqrt(this._velocity1*this._velocity1*a.mass/b.mass)*(this._velocity1>0?1:-1),this._average=.5*(this._newVelocity1+this._newVelocity2),this._newVelocity1-=this._average,this._newVelocity2-=this._average,a.velocity.y=this._average+this._newVelocity1*a.bounce.y,b.velocity.y=this._average+this._newVelocity2*b.bounce.y),a.updateHulls(),b.updateHulls(),!0)):!1)})},{}],6:[function(a,b){b.exports={range:function(){if(!arguments.length)return[];var a,b,c;1==arguments.length?(a=0,b=arguments[0],c=1):(a=arguments[0],b=arguments[1],c=arguments[2]||1);for(var d=[],e=a;b>e;e+=c)d.push(e);return d}}},{}]},{},[4]);