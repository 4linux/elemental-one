!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports={GAME_WIDTH:800,GAME_HEIGHT:600,TILE_WIDTH:70,TILE_HEIGHT:70,BACKGROUND:"#d0f4f7",GRAVITY:20,MOVEMENT_VEL:210,JUMP_VEL:500,CLOUD_MOVE_OFFSET:1e3,CLOUD_MOVE_TIME:3e4,MAX_PARTICLES:250,PARTICLE_X_OFFSET:45,PARTICLE_Y_OFFSET:10,ELEM_GRAVITY:3,ITEM_FADE_TIME:1e3,ITEM_ACQUIRE_OFFSET:25,ITEM_DROP_VEL:-100,BLOCK_FADE_TIME:1e3,PLAYER_BOUND_WIDTH:30,PLAYER_BOUND_HEIGHT:75,PLAYER_BOUND_H_OFFSET:10,FLOATING_TILES:[2,14,26,41,44,46,53,56,58,65,68,70,71,75,77,80,82,87,99,111,117,119,126,145],UPWARD_SLOPE_TILES:[29,32,34,42,63,105],DOWNWARD_SLOPE_TILES:[5,8,10,30,39,95],BACKGROUND_TILES:[1,6,13,18,19,21,25,31,33,37,40,45,52,57,64,69,76,81,149],GOAL_TILE:57}},{}],2:[function(a,b){var c=function(){var a=Array.prototype.slice.call(arguments);return a.unshift({}),Phaser.Utils.extend.apply(null,a)},d=function(a,b){a.powergem=b,a.element=b.element,a.hasElement=!0},e=function(a){a.powergem=null,a.hasElement=!1,a.elementWasDropped=!0},f=function(a){return!a.element},g=function(a,b){return a.group.element===b.element},h={style:{font:'18px "minecraftiaregular"',fill:"slategray",align:"center"}},i={air:{element:"air",frameName:"air.png",num:200,gravity:.1,lifespan:1e3,particleScale:{min:1.5,max:2},angularVel:{min:-20,max:20},speedX:{min:100,max:200},speedY:{min:-125,max:125}},water:{element:"water",frameName:"water.png",num:200,gravity:6,lifespan:1500,particleScale:{min:.5,max:1.3},angularVel:{min:-20,max:20},speedX:{min:100,max:250},speedY:{min:-150,max:150}},earth:{element:"earth",frameName:"earth.png",num:200,gravity:2,lifespan:2300,particleScale:{min:1.2,max:1.5},angularVel:{min:-50,max:50},speedX:{min:100,max:300},speedY:{min:-100,max:100}},fire:{element:"fire",frameName:"fire.png",num:200,gravity:-5,lifespan:1e3,particleScale:{min:1,max:1.5},angularVel:{min:800,max:1200},speedX:{min:100,max:200},speedY:{min:-100,max:100}}},j={air:{elemType:"powergem",props:{element:"air",acquire:d,drop:e,checkAcquirable:f},frameName:"gemYellow.png",body:{x:20,y:20,width:30,height:30}},water:{elemType:"powergem",props:{element:"water",acquire:d,drop:e,checkAcquirable:f},frameName:"gemBlue.png",body:{x:20,y:20,width:30,height:30}},earth:{elemType:"powergem",props:{element:"earth",acquire:d,drop:e,checkAcquirable:f},frameName:"gemGreen.png",body:{x:20,y:20,width:30,height:30}},fire:{elemType:"powergem",props:{element:"fire",acquire:d,drop:e,checkAcquirable:f},frameName:"gemRed.png",body:{x:20,y:20,width:30,height:30}}},k={goalStar:{frameName:"star.png",noGravity:!0,tween:[{x:0,y:-10,duration:800,easing:Phaser.Easing.Quadratic.InOut},{x:0,y:10,duration:800,easing:Phaser.Easing.Quadratic.InOut}],tweenLoop:!0}},l={air:{elemType:"powerblock",props:{element:"air",checkCollideParticle:g},frameId:54,body:{x:0,y:0,width:70,height:70}},water:{elemType:"powerblock",props:{element:"water",checkCollideParticle:g},frameId:90,body:{x:0,y:0,width:70,height:70}},earth:{elemType:"powerblock",props:{element:"earth",checkCollideParticle:g},frameId:97,body:{x:0,y:0,width:70,height:70}},fire:{elemType:"powerblock",props:{element:"fire",checkCollideParticle:g},frameId:66,body:{x:0,y:0,width:70,height:70}}};b.exports={levels:{level1:{nextState:"level2",width:2100,height:840,clouds:15,player:{x:150,y:580},goal:{x:1961,y:490},text:[c(h,{x:350,y:350,msg:"Hi! :D\nUse the arrow keys to move and jump about.\nTry to make it to the level exit!"}),c(h,{x:1e3,y:725,msg:'Grab a powergem with the "Z" key.\nThen use the spacebar to unleash your element!'}),c(h,{x:1600,y:275,msg:"Use your power to remove obstacles.\nEach obstacle type matches one of your elements."})],items:[c(j.water,{x:1085,y:580})],backgroundItems:[c(k.goalStar,{x:1961,y:380})],blocks:[c(l.water,{x:1715,y:450}),c(l.water,{x:1715,y:350}),c(l.water,{x:1715,y:250})],elements:[i.water]},level2:{width:2100,height:1050,clouds:15,player:{x:150,y:780},goal:{x:1960,y:500},text:[c(h,{x:250,y:650,msg:"Keep going!"}),c(h,{x:1e3,y:300,msg:"There are 4 types\nof powergems, but you\ncan only carry one at a time!"}),c(h,{x:375,y:240,msg:'Use the "X" key to drop\nyour current powergem.\nThen, you can pick up a new one!'}),c(h,{x:1800,y:550,msg:"From here on out,\nyou're on your own. :)"})],items:[c(j.water,{x:485,y:920}),c(j.earth,{x:450,y:300})],backgroundItems:[c(k.goalStar,{x:1960,y:590})],blocks:[c(l.water,{x:815,y:850}),c(l.water,{x:815,y:750}),c(l.water,{x:815,y:650}),c(l.earth,{x:1415,y:650}),c(l.earth,{x:1415,y:550}),c(l.earth,{x:1415,y:450}),c(l.water,{x:600,y:300}),c(l.water,{x:600,y:200}),c(l.water,{x:600,y:100})],elements:[i.water,i.earth]}}}},{}],3:[function(a,b){function c(a,b){return function(c,d,e,f,g){if(this._mapData=d.getTiles(c.body.x,c.body.y,c.body.width,c.body.height,!0),0!==this._mapData.length)for(var h=0;h<this._mapData.length;h++){var i=this._mapData[h],j=0;a.indexOf(i.tile.index)>=0&&c.body.right<i.right?j=Math.max(0,i.right-c.body.right):b.indexOf(i.tile.index)>=0&&c.body.x>i.x&&(j=Math.max(0,c.body.x-i.x));var k=0===j||c.body.bottom>i.y+j;k&&this.separateTile(c.body,this._mapData[h])&&(f?f.call(g,c,this._mapData[h])&&(this._total++,e&&e.call(g,c,this._mapData[h])):(this._total++,e&&e.call(g,c,this._mapData[h])),j>0&&(c.body.y+=j,c.body.updateHulls()))}}}b.exports.createSlopedTilemapCollider=c},{}],4:[function(a){function b(){K.physics.collideSpriteVsTilemapLayer=H.createSlopedTilemapCollider(I.UPWARD_SLOPE_TILES,I.DOWNWARD_SLOPE_TILES),L.Levels={},Object.keys(J.levels).forEach(function(a){L.Levels[a]=function(){},L.Levels[a].prototype={preload:c,create:function(){K.level=a,K.nextState=J.levels[a].nextState,d()},update:o,render:p},K.state.add(a,L.Levels[a],!1)}),K.state.start("level1")}function c(){q||(K.load.tilemap("level1","assets/tilemaps/level1.json",null,Phaser.Tilemap.TILED_JSON),K.load.tilemap("level2","assets/tilemaps/level2.json",null,Phaser.Tilemap.TILED_JSON),K.load.tileset("tiles","assets/tilesets/tiles_spritesheet.png",I.TILE_WIDTH,I.TILE_HEIGHT),K.load.atlas("p1","assets/sprites/p1_spritesheet.png","assets/sprites/p1_spritesheet.json"),K.load.atlasXML("items","assets/sprites/items_spritesheet.png","assets/sprites/items_spritesheet.xml"),K.load.spritesheet("blocks","assets/tilesets/tiles_spritesheet.png",I.TILE_WIDTH,I.TILE_HEIGHT),K.load.atlasXML("particles","assets/sprites/particles.png","assets/sprites/particles.xml"),K.load.audio("theme",["assets/sounds/happy.mp3","assets/sounds/happy.ogg"],!0),K.load.audio("jumpsound","assets/sounds/jump.wav",!0),K.load.audio("pickupsound","assets/sounds/pickup.wav",!0),K.load.audio("airsound","assets/sounds/air.wav",!0),K.load.audio("watersound","assets/sounds/water.wav",!0),K.load.audio("earthsound","assets/sounds/earth.wav",!0),K.load.audio("firesound","assets/sounds/fire.wav",!0),q=!0)}function d(){K.stage.backgroundColor=I.BACKGROUND,e(),r=K.add.tilemap(K.level),s=K.add.tileset("tiles"),s.setCollisionRange(0,s.total-1,!0,!0,!0,!0),s.tiles.forEach(function(a){a.enableMaxOverlapCheck=!0}),I.FLOATING_TILES.forEach(function(a){var b=s.getTile(a);b.setCollision(!1,!1,!0,!1)}),I.UPWARD_SLOPE_TILES.forEach(function(a){var b=s.getTile(a);b.setCollision(!1,!1,!0,!1),b.enableMaxOverlapCheck=!1}),I.DOWNWARD_SLOPE_TILES.forEach(function(a){var b=s.getTile(a);b.setCollision(!1,!1,!0,!1),b.enableMaxOverlapCheck=!1}),I.BACKGROUND_TILES.forEach(function(a){s.setCollision(a,!1,!1,!1,!1)}),f(),u=K.add.tilemapLayer(0,0,I.GAME_WIDTH,I.GAME_HEIGHT,s,r,0),t=K.add.tilemapLayer(0,0,I.GAME_WIDTH,I.GAME_HEIGHT,s,r,1),t.resizeWorld(),g(),h(),i(),n(),m(),j(),l(),K.camera.follow(v,Phaser.Camera.FOLLOW_PLATFORMER),C=K.input.keyboard.createCursorKeys(),D=K.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),E=K.input.keyboard.addKey(Phaser.Keyboard.Z),F=K.input.keyboard.addKey(Phaser.Keyboard.X),B.isPlaying||B.play("",0,.6,!0)}function e(){B||(B=K.add.audio("theme"),["jumpsound","pickupsound"].forEach(function(a){M[a]=K.add.audio(a)}),["airsound","watersound","earthsound","firesound"].forEach(function(a){M[a]=K.add.audio(a,1,!0)}))}function f(){J.levels[K.level].clouds&&(x=K.add.group(),G.range(10).forEach(function(){var a=I.CLOUD_MOVE_OFFSET*K.rnd.realInRange(.8,1.2),b=x.create(K.rnd.integerInRange(0,J.levels[K.level].width),K.rnd.integerInRange(0,J.levels[K.level].height),"items");b.animations.add("cloud",[K.rnd.pick(["cloud1.png","cloud2.png","cloud3.png"])],1,!1,!1),b.animations.play("cloud"),K.add.tween(b).to({x:b.x-a},I.CLOUD_MOVE_TIME,Phaser.Easing.Linear.None).to({x:b.x-a-100},3e3,Phaser.Easing.Quadratic.Out).to({x:b.x-a},3e3,Phaser.Easing.Quadratic.In).to({x:b.x+a},I.CLOUD_MOVE_TIME,Phaser.Easing.Linear.None).to({x:b.x+a+100},3e3,Phaser.Easing.Quadratic.Out).to({x:b.x+a},3e3,Phaser.Easing.Quadratic.In).loop().start()}))}function g(){A=K.add.group(),k(J.levels[K.level].blocks,A,"blocks")}function h(){z=K.add.group(),k(J.levels[K.level].backgroundItems,z,"items")}function i(){J.levels[K.level].text&&J.levels[K.level].text.forEach(function(a){var b=K.add.text(a.x,a.y,a.msg,a.style);b.anchor.setTo(.5,.5)})}function j(){y=K.add.group(),k(J.levels[K.level].items,y,"items")}function k(a,b,c){var d=function(a){var d=b.create(a.x,a.y,c,a.frameName||a.frameId);if(d.elemType=a.elemType,d.body.allowGravity=!a.noGravity,d.body.gravity.y=I.ELEM_GRAVITY,d.body.collideWorldBounds=!0,a.body&&(d.body.setSize(a.body.width||d.body.sourceWidth,a.body.height||d.body.sourceHeight,a.body.x||d.body.offset.x,a.body.y||d.body.offset.y),d.body.immovable=a.body.immovable||d.body.immovable,d.body.gravity.y=a.body.gravity||I.ELEM_GRAVITY),a.props)for(var e in a.props)a.props.hasOwnProperty(e)&&(d[e]=a.props[e]);if(a.tween){var f=K.add.tween(d);a.tween.forEach(function(a){f=f.to({x:d.x+a.x,y:d.y+a.y},a.duration,a.easing)}),a.tweenLoop&&f.loop(),f.start()}};a.forEach(d)}function l(){J.levels[K.level].elements.forEach(function(a){var b=K.add.emitter(0,0,I.MAX_PARTICLES);b.element=a.element,b.makeParticles("particles",[a.frameName],a.num,!0,!0),b.gravity=a.gravity||b.gravity,b.lifespan=a.lifespan||b.lifespan,a.particleScale&&(b.minParticleScale=a.particleScale.min,b.maxParticleScale=a.particleScale.max),a.angularVel&&b.setRotation(a.angularVel.min,a.angularVel.max),a.speedX&&b.setXSpeed(a.speedX.min,a.speedX.max),a.speedY&&b.setYSpeed(a.speedY.min,a.speedY.max),b.forEach(function(a){a.kill()}),N[a.element]=b})}function m(){v=K.add.sprite(J.levels[K.level].player.x,J.levels[K.level].player.y,"p1"),v.body.collideWorldBounds=!0,v.body.blockable=!0,v.body.gravity.y=I.GRAVITY,v.body.setSize(I.PLAYER_BOUND_WIDTH,I.PLAYER_BOUND_HEIGHT,0,I.PLAYER_BOUND_H_OFFSET),v.anchor.setTo(.5,.5),v.animations.add("stand",["p1_stand"],1,!1,!1),v.animations.add("use",["p1_use"],1,!1,!1),v.animations.add("duck",["p1_duck"],1,!1,!1),v.animations.add("hurt",["p1_hurt"],1,!1,!1),v.animations.add("jump",["p1_jump"],1,!1,!1),v.animations.add("front",["p1_front"],1,!1,!1),v.animations.add("walk",Phaser.Animation.generateFrameNames("p1_walk",1,11,"",2),15,!0,!1),v.animations.play("stand")}function n(){J.levels[K.level].goal&&(w=K.add.sprite(J.levels[K.level].goal.x,J.levels[K.level].goal.y,"blocks",I.GOAL_TILE),w.alpha=0)}function o(){var a=N[v.element]||null;K.physics.overlap(v,w,function(){K.state.start(K.nextState)}),K.physics.collide(v,t),K.physics.collide(v,A),K.physics.collide(y,t),K.physics.collide(A,t),K.physics.collide(A,A),a&&(K.physics.collide(a,t),K.physics.overlap(a,A,function(a,b){b.collideParticle&&b.collideParticle(a,b),b.isDisappearing=!0,b.lifespan=I.ITEM_FADE_TIME},function(a,b){return b.isDisappearing?!1:b.checkCollideParticle?b.checkCollideParticle(a,b):!1}),a.forEachAlive(function(b){b.alpha=b.lifespan/a.lifespan}),v.elementWasDropped&&0===a.countLiving()&&(v.element=null,v.elementWasDropped=!1)),v.body.touching.down?(v.body.velocity.x=0,v.airborne!==!1&&(v.animations.play("stand"),v.facing="idle",v.airborne=!1)):v.airborne=!0,C.left.isDown?(v.body.velocity.x=-I.MOVEMENT_VEL,"left"!==v.facing&&(v.airborne||v.animations.play("walk"),v.facing="left",v.flipped=!0)):C.right.isDown?(v.body.velocity.x=I.MOVEMENT_VEL,"right"!==v.facing&&(v.airborne||v.animations.play("walk"),v.facing="right",v.flipped=!1)):C.down.isDown?(v.body.velocity.x=0,"down"!==v.facing&&(v.airborne||v.animations.play("duck"),v.facing="down")):v.airborne||"idle"!==v.facing&&(v.animations.play("stand"),v.facing="idle"),C.up.isDown&&v.body.touching.down&&(v.body.velocity.y=-I.JUMP_VEL,v.animations.play("jump"),v.airborne=!0,M.jumpsound.play("",0,.3)),E.isDown&&K.physics.overlap(v,y,function(a,b){a.currentItem=b,b.acquire&&b.acquire(a,b),b.isBeingAcquired=!0,b.lifespan=I.ITEM_FADE_TIME,M.pickupsound.play("",.6)},function(a,b){return b.isBeingAcquired?!1:b.checkAcquirable?b.checkAcquirable(a,b):!1}),F.isDown&&v.currentItem&&v.currentItem.lifespan<=0&&(v.currentItem.revive(),v.currentItem.isBeingAcquired=!1,v.currentItem.alpha=1,v.currentItem.body.x=v.body.x,v.currentItem.body.y=v.body.y+I.ITEM_ACQUIRE_OFFSET,v.currentItem.body.velocity.setTo(0,I.ITEM_DROP_VEL),v.currentItem.drop&&v.currentItem.drop(v,v.currentItem),v.currentItem=null),y.forEachAlive(function(a){if(a.isBeingAcquired){var b=(I.ITEM_FADE_TIME-a.lifespan)/I.ITEM_FADE_TIME;a.alpha=-1*b*b+1,K.physics.moveToXY(a,v.body.x,v.body.y+I.ITEM_ACQUIRE_OFFSET,null,a.lifespan)}}),A.forEachAlive(function(a){a.isDisappearing&&(a.alpha=a.lifespan/I.BLOCK_FADE_TIME)}),a&&(v.hasElement&&D.isDown&&"idle"===v.facing&&!v.airborne?(v.isFiring||(v.animations.play("use"),v.flipped?(a.emitX=v.x-I.PARTICLE_X_OFFSET,a.emitY=v.y+I.PARTICLE_Y_OFFSET,a.flipped=!0):(a.emitX=v.x+I.PARTICLE_X_OFFSET,a.emitY=v.y+I.PARTICLE_Y_OFFSET,a.flipped=!1)),v.isFiring=!0,M[v.element+"sound"].isPlaying||M[v.element+"sound"].play(),a.emitParticle()):(v.isFiring&&"idle"===v.facing&&!v.airborne&&v.animations.play("stand"),v.isFiring=!1,v.element&&M[v.element+"sound"].isPlaying&&M[v.element+"sound"].stop())),v.scale.x=v.flipped?-1:1}function p(){}var q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=(a("./overrides"),a("./utils")),H=a("./extensions"),I=a("./config"),J=a("./data"),K=window.game=new Phaser.Game(I.GAME_WIDTH,I.GAME_HEIGHT,Phaser.CANVAS),L={},M={},N={};window.onload=b},{"./config":1,"./data":2,"./extensions":3,"./overrides":5,"./utils":6}],5:[function(){"undefined"!=typeof Phaser&&(Phaser.Physics.Arcade.prototype.separateTileX=function(a,b,c){return a.immovable||0===a.deltaX()||Phaser.Rectangle.intersects(a.hullX,b)===!1?!1:(this._overlap=0,this._maxOverlap=a.deltaAbsX()+this.OVERLAP_BIAS,a.deltaX()<0?(this._overlap=b.right-a.hullX.x,b.tile.enableMaxOverlapCheck&&this._overlap>this._maxOverlap||a.allowCollision.left===!1||b.tile.collideRight===!1?this._overlap=0:a.touching.left=!0):(this._overlap=a.hullX.right-b.x,b.tile.enableMaxOverlapCheck&&this._overlap>this._maxOverlap||a.allowCollision.right===!1||b.tile.collideLeft===!1?this._overlap=0:a.touching.right=!0),0!==this._overlap?(c&&(a.x=a.deltaX()<0?a.x+this._overlap:a.x-this._overlap,a.velocity.x=0===a.bounce.x?0:-a.velocity.x*a.bounce.x,a.updateHulls()),!0):!1)},Phaser.Physics.Arcade.prototype.separateTileY=function(a,b,c){return a.immovable||0===a.deltaY()||Phaser.Rectangle.intersects(a.hullY,b)===!1?!1:(this._overlap=0,this._maxOverlap=a.deltaAbsY()+this.OVERLAP_BIAS,a.deltaY()<0?(this._overlap=b.bottom-a.hullY.y,b.tile.enableMaxOverlapCheck&&this._overlap>this._maxOverlap||a.allowCollision.up===!1||b.tile.collideDown===!1?this._overlap=0:a.touching.up=!0):(this._overlap=a.hullY.bottom-b.y,b.tile.enableMaxOverlapCheck&&this._overlap>this._maxOverlap||a.allowCollision.down===!1||b.tile.collideUp===!1?this._overlap=0:a.touching.down=!0),0!==this._overlap?(c&&(a.y=a.deltaY()<0?a.y+this._overlap:a.y-this._overlap,a.velocity.y=0===a.bounce.y?0:-a.velocity.y*a.bounce.y,a.updateHulls()),!0):!1)},Phaser.Physics.Arcade.prototype.moveToXY=function(a,b,c,d,e){return"undefined"==typeof d&&(d=60),"undefined"==typeof e&&(e=0),this._angle=Math.atan2(c-a.body.y,b-a.body.x),e>0&&(d=this.distanceToXY(a,b,c)/(e/1e3)),a.body.velocity.x=Math.cos(this._angle)*d,a.body.velocity.y=Math.sin(this._angle)*d,this._angle},Phaser.Physics.Arcade.prototype.distanceToXY=function(a,b,c){return this._dx=a.body.x-b,this._dy=a.body.y-c,Math.sqrt(this._dx*this._dx+this._dy*this._dy)},Phaser.Physics.Arcade.prototype.angleToXY=function(a,b,c){return this._dx=b-a.body.x,this._dy=c-a.body.y,Math.atan2(this._dy,this._dx)},Phaser.Particles.Arcade.Emitter.prototype.emitParticle=function(){var a=this.getFirstExists(!1);if(null!=a){if(this.width>1||this.height>1?a.reset(this.game.rnd.integerInRange(this.left,this.right),this.game.rnd.integerInRange(this.top,this.bottom)):a.reset(this.emitX,this.emitY),a.lifespan=this.lifespan,a.body.bounce.setTo(this.bounce.x,this.bounce.y),a.body.velocity.x=this.minParticleSpeed.x!=this.maxParticleSpeed.x?this.game.rnd.integerInRange(this.minParticleSpeed.x,this.maxParticleSpeed.x):this.minParticleSpeed.x,a.body.velocity.y=this.minParticleSpeed.y!=this.maxParticleSpeed.y?this.game.rnd.integerInRange(this.minParticleSpeed.y,this.maxParticleSpeed.y):this.minParticleSpeed.y,a.body.gravity.y=this.gravity,a.body.angularVelocity=this.minRotation!=this.maxRotation?this.game.rnd.integerInRange(this.minRotation,this.maxRotation):this.minRotation,1!==this.minParticleScale||1!==this.maxParticleScale){var b=this.game.rnd.realInRange(this.minParticleScale,this.maxParticleScale);a.scale.setTo(b,b)}this.flipped&&(a.body.velocity.x*=-1,a.body.angularVelocity*=-1,a.scale.x*=-1),a.body.drag.x=this.particleDrag.x,a.body.drag.y=this.particleDrag.y,a.body.angularDrag=this.angularDrag}},Phaser.Physics.Arcade.prototype.separateX=function(a,b){return a.immovable&&b.immovable?!1:(this._overlap=0,Phaser.Rectangle.intersects(a,b)&&(this._maxOverlap=a.deltaAbsX()+b.deltaAbsX()+this.OVERLAP_BIAS,0===a.deltaX()&&0===b.deltaX()?(a.embedded=!0,b.embedded=!0):a.deltaX()>b.deltaX()?(this._overlap=a.x+a.width-b.x,this._overlap>this._maxOverlap||a.allowCollision.right===!1||b.allowCollision.left===!1?this._overlap=0:(a.touching.right=!0,b.touching.left=!0)):a.deltaX()<b.deltaX()&&(this._overlap=a.x-b.width-b.x,-this._overlap>this._maxOverlap||a.allowCollision.left===!1||b.allowCollision.right===!1?this._overlap=0:(a.touching.left=!0,b.touching.right=!0)),0!==this._overlap)?(a.overlapX=this._overlap,b.overlapX=this._overlap,a.customSeparateX||b.customSeparateX?!0:(this._velocity1=a.velocity.x,this._velocity2=b.velocity.x,a.immovable||b.immovable?a.immovable?b.immovable||(b.x+=this._overlap,b.velocity.x=this._velocity1-this._velocity2*b.bounce.x):(a.x=a.x-this._overlap,a.velocity.x=this._velocity2-this._velocity1*a.bounce.x):a.blockable||b.blockable?a.blockable?(a.x=a.x-this._overlap,a.velocity.x=this._velocity2-this._velocity1*a.bounce.x):b.blockable&&(b.x+=this._overlap,b.velocity.x=this._velocity1-this._velocity2*b.bounce.x):(this._overlap*=.5,a.x=a.x-this._overlap,b.x+=this._overlap,this._newVelocity1=Math.sqrt(this._velocity2*this._velocity2*b.mass/a.mass)*(this._velocity2>0?1:-1),this._newVelocity2=Math.sqrt(this._velocity1*this._velocity1*a.mass/b.mass)*(this._velocity1>0?1:-1),this._average=.5*(this._newVelocity1+this._newVelocity2),this._newVelocity1-=this._average,this._newVelocity2-=this._average,a.velocity.x=this._average+this._newVelocity1*a.bounce.x,b.velocity.x=this._average+this._newVelocity2*b.bounce.x),a.updateHulls(),b.updateHulls(),!0)):!1)},Phaser.Physics.Arcade.prototype.separateY=function(a,b){return a.immovable&&b.immovable?!1:(this._overlap=0,Phaser.Rectangle.intersects(a,b)&&(this._maxOverlap=a.deltaAbsY()+b.deltaAbsY()+this.OVERLAP_BIAS,0===a.deltaY()&&0===b.deltaY()?(a.embedded=!0,b.embedded=!0):a.deltaY()>b.deltaY()?(this._overlap=a.y+a.height-b.y,this._overlap>this._maxOverlap||a.allowCollision.down===!1||b.allowCollision.up===!1?this._overlap=0:(a.touching.down=!0,b.touching.up=!0)):a.deltaY()<b.deltaY()&&(this._overlap=a.y-b.height-b.y,-this._overlap>this._maxOverlap||a.allowCollision.up===!1||b.allowCollision.down===!1?this._overlap=0:(a.touching.up=!0,b.touching.down=!0)),0!==this._overlap)?(a.overlapY=this._overlap,b.overlapY=this._overlap,a.customSeparateY||b.customSeparateY?!0:(this._velocity1=a.velocity.y,this._velocity2=b.velocity.y,a.immovable||b.immovable?a.immovable?b.immovable||(b.y+=this._overlap,b.velocity.y=this._velocity1-this._velocity2*b.bounce.y,a.sprite.active&&a.moves&&a.deltaY()<b.deltaY()&&(b.x+=a.x-a.lastX)):(a.y=a.y-this._overlap,a.velocity.y=this._velocity2-this._velocity1*a.bounce.y,b.active&&b.moves&&a.deltaY()>b.deltaY()&&(a.x+=b.x-b.lastX)):a.blockable||b.blockable?a.blockable?(a.y=a.y-this._overlap,a.velocity.y=this._velocity2-this._velocity1*a.bounce.y,b.active&&b.moves&&a.deltaY()>b.deltaY()&&(a.x+=b.x-b.lastX)):b.blockable&&(b.y+=this._overlap,b.velocity.y=this._velocity1-this._velocity2*b.bounce.y,a.sprite.active&&a.moves&&a.deltaY()<b.deltaY()&&(b.x+=a.x-a.lastX)):(this._overlap*=.5,a.y=a.y-this._overlap,b.y+=this._overlap,this._newVelocity1=Math.sqrt(this._velocity2*this._velocity2*b.mass/a.mass)*(this._velocity2>0?1:-1),this._newVelocity2=Math.sqrt(this._velocity1*this._velocity1*a.mass/b.mass)*(this._velocity1>0?1:-1),this._average=.5*(this._newVelocity1+this._newVelocity2),this._newVelocity1-=this._average,this._newVelocity2-=this._average,a.velocity.y=this._average+this._newVelocity1*a.bounce.y,b.velocity.y=this._average+this._newVelocity2*b.bounce.y),a.updateHulls(),b.updateHulls(),!0)):!1)})},{}],6:[function(a,b){b.exports={range:function(){if(!arguments.length)return[];var a,b,c;1==arguments.length?(a=0,b=arguments[0],c=1):(a=arguments[0],b=arguments[1],c=arguments[2]||1);for(var d=[],e=a;b>e;e+=c)d.push(e);return d}}},{}]},{},[4]);